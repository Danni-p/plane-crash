(()=>{"use strict";var e={1823:(e,t,n)=>{var s=n(8880),r=n(9592),i=n(3673);function a(e,t,n,s,r,a){const o=(0,i.up)("router-view");return(0,i.wg)(),(0,i.j4)(o)}var o=n(2360);class c{constructor(){this.eventName=c.getEventName(),this.dateTimeOccurred=new Date}static getEventName(){return"AppInitializedEvent"}}class u{constructor(e,t){this.priority=e,this.callback=t}execute(e){this.callback(e)}getPriority(){return this.priority}}class g{constructor(e){this.setupSubscription(e)}}var h=n(3670);class l extends g{setupSubscription(e){const t=new u(e,(e=>{if(!(e instanceof h.M))throw new Error("wrong Event");this.onEvent(e)}));o.Q.register(h.M.getEventName(),t)}}var d=n(2940);const{commitSetUserAuthenticated:f}=(0,d.Z)();class v extends l{onEvent(){f(!0)}}var p=n(836);class m extends g{setupSubscription(e){const t=new u(e,(e=>{if(!(e instanceof p.c))throw new Error("wrong Event");this.onEvent(e)}));o.Q.register(p.c.getEventName(),t)}}const{commitSetUserAuthenticated:P}=(0,d.Z)();class w extends m{onEvent(){P(!1)}}var b=n(1459);class E extends g{setupSubscription(e){const t=new u(e,(e=>{if(!(e instanceof c))throw new Error("wrong Event");this.onEvent(e)}));o.Q.register(c.getEventName(),t)}}class y extends E{onEvent(){b.Z.authService.authListenerOn()}}new v(10),new w(10),new y(10);class L extends l{onEvent(){b.Z.wingService.leftPassengersListenerOn(),b.Z.wingService.rightPassengersListenerOn()}}class x extends m{onEvent(){b.Z.wingService.leftPassengersListenerOff(),b.Z.wingService.rightPassengersListenerOff()}}var S=n(6304),O=n(4078);class W extends g{setupSubscription(e){const t=new u(e,(e=>{if(!(e instanceof O.k))throw new Error("wrong Event");this.onEvent(e)}));o.Q.register(O.k.getEventName(),t)}}const{commitSetActiveLeftWingPassengers:C,commitSetMaxLeftWingPassengers:A}=(0,S.Z)();class N extends W{onEvent(e){C(e.getLeftWingPassengers().active),A(e.getLeftWingPassengers().max)}}var k=n(2943);class _ extends g{setupSubscription(e){const t=new u(e,(e=>{if(!(e instanceof k.Y))throw new Error("wrong Event");this.onEvent(e)}));o.Q.register(k.Y.getEventName(),t)}}const{commitSetActiveRightWingPassengers:j,commitSetMaxRightWingPassengers:R}=(0,S.Z)();class Z extends _{onEvent(e){j(e.getRightWingPassengers().active),R(e.getRightWingPassengers().max)}}new L(10),new x(10),new N(10),new Z(10);const U=(0,i.aZ)({name:"App",setup(){return o.Q.dispatchEvent(new c),{}}});U.render=a;const I=U;var M=n(7083),F=n(9582);const T=[{path:"/",component:()=>Promise.all([n.e(736),n.e(865)]).then(n.bind(n,3865)),meta:{requiresAuth:!0},children:[{path:"",name:"Home",component:()=>Promise.all([n.e(736),n.e(434)]).then(n.bind(n,9434))}]},{path:"/wing",component:()=>Promise.all([n.e(736),n.e(363)]).then(n.bind(n,6363)),meta:{requiresAuth:!0},children:[{path:"right",name:"RightWing",component:()=>Promise.all([n.e(736),n.e(416)]).then(n.bind(n,7416))},{path:"left",name:"LeftWing",component:()=>Promise.all([n.e(736),n.e(246)]).then(n.bind(n,7246))}]},{path:"/cockpit",component:()=>Promise.all([n.e(736),n.e(856)]).then(n.bind(n,1856)),meta:{requiresAuth:!0},children:[{path:"",name:"Cockpit",component:()=>Promise.all([n.e(736),n.e(122)]).then(n.bind(n,4122))},{path:"init",name:"InitCockpit",component:()=>Promise.all([n.e(736),n.e(896)]).then(n.bind(n,3896))},{path:"win",name:"Win",component:()=>Promise.all([n.e(736),n.e(513)]).then(n.bind(n,2513))},{path:"loose",name:"Loose",component:()=>Promise.all([n.e(736),n.e(313)]).then(n.bind(n,313))}]},{path:"/auth",component:()=>Promise.all([n.e(736),n.e(865)]).then(n.bind(n,3865)),meta:{requiresLogout:!0},children:[{path:"",name:"Auth",component:()=>Promise.all([n.e(736),n.e(87)]).then(n.bind(n,7087))}]},{path:"/:catchAll(.*)*",component:()=>Promise.all([n.e(736),n.e(989)]).then(n.bind(n,8989))}],q=T,D=(0,M.BC)((function(){const e=F.r5,t=(0,F.p7)({scrollBehavior:()=>({left:0,top:0}),routes:q,history:e("")});return t.beforeEach(((e,t,n)=>{b.Z.authService.asyncCurrentUser().then((()=>{console.log("user is logged in in router beforeEach"),e.matched.some((e=>e.meta.requiresLogout))?(console.log("requires logout"),n({path:"/",query:{redirect:e.fullPath}})):n()})).catch((()=>{console.log("user is logged out in router beforeEach",e),e.matched.some((e=>e.meta.requiresAuth))?n({path:"/auth",query:{redirect:e.fullPath}}):n()}))})),t}));async function Q(e,t){const n="function"===typeof D?await D({}):D,s=e(I);return s.use(r.Z,t),{app:s,router:n}}var B=n(4434);const z={config:{},plugins:{Notify:B.Z}};async function Y({app:e,router:t}){e.use(t),e.mount("#q-app")}Q(s.ri,z).then(Y)},1459:(e,t,n)=>{n.d(t,{Z:()=>A});var s=n(5720);n(4479),n(9937),n(3433),n(6121);const r={apiKey:"AIzaSyCDn73hnusK2uEZzFLs2HVMDTa8IlGzJNA",authDomain:"plane-crash-171be.firebaseapp.com",projectId:"plane-crash-171be",storageBucket:"plane-crash-171be.appspot.com",messagingSenderId:"95308262648",appId:"1:95308262648:web:594f02e4e4bb5e541b5f0d"},i=s.Z.initializeApp(r),a=i.auth(),o=i.firestore();i.storage();var c=n(2360);class u{dispatchEvent(e){console.log("execute sync Event",e.eventName),c.Q.dispatchEvent(e)}}var g=n(3670),h=n(836),l=function(e,t,n,s){function r(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,i){function a(e){try{c(s.next(e))}catch(t){i(t)}}function o(e){try{c(s["throw"](e))}catch(t){i(t)}}function c(e){e.done?n(e.value):r(e.value).then(a,o)}c((s=s.apply(e,t||[])).next())}))};class d extends u{constructor(){super(...arguments),this.authListener=null}loginUserWithEmailAndPassword(e){return l(this,void 0,void 0,(function*(){yield a.signInWithEmailAndPassword(e.email,e.password)}))}logoutUser(){return a.signOut()}authListenerOn(){this.authListener=a.onAuthStateChanged((e=>{e?(console.log("user logged in",e),this.dispatchEvent(new g.M(e.uid))):(console.log("user logged out"),this.dispatchEvent(new h.c))}))}authListenerOff(){this.authListener&&this.authListener()}currentUser(){const e=a.currentUser;if(!e)throw Error("Current User is not defined!");return e}asyncCurrentUser(){return new Promise(((e,t)=>{const n=a.onAuthStateChanged((s=>{if(n(),!s)return t(Error("Current User is not defined!"));e(s)}),t)}))}asyncCurrentUserId(){return l(this,void 0,void 0,(function*(){const e=yield this.asyncCurrentUser();return(null===e||void 0===e?void 0:e.uid)||Promise.reject(new Error("Not able to find current User!"))}))}}const f=new d,v=f;var p=n(4078),m=n(2943),P=function(e,t,n,s){function r(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,i){function a(e){try{c(s.next(e))}catch(t){i(t)}}function o(e){try{c(s["throw"](e))}catch(t){i(t)}}function c(e){e.done?n(e.value):r(e.value).then(a,o)}c((s=s.apply(e,t||[])).next())}))};class w extends u{constructor(){super(...arguments),this.leftPassengersListener=null,this.rightPassengersListener=null}setPassengers(e,t,n){return P(this,void 0,void 0,(function*(){const s={active:t,max:n};"left"===e?yield o.collection("wing").doc("leftPassengers").update(s):yield o.collection("wing").doc("rightPassengers").update(s)}))}leftPassengersListenerOn(){o.collection("wing").doc("leftPassengers").onSnapshot((e=>{const t=e.data();this.dispatchEvent(new p.k(t))}))}leftPassengersListenerOff(){this.leftPassengersListener&&this.leftPassengersListener()}rightPassengersListenerOn(){o.collection("wing").doc("rightPassengers").onSnapshot((e=>{const t=e.data();this.dispatchEvent(new m.Y(t))}))}rightPassengersListenerOff(){this.rightPassengersListener&&this.rightPassengersListener()}}const b=new w,E=b,y={authService:v,wingService:E},L=y,x=JSON.parse('{"global":{},"apiClient":{"type":"live"}}'),S="live",O=new Map([["live",x]]);if(!O.has(S))throw Error(`Could not find config for VUE_APP_CONFIG key "${S}"`);const W=O.get(S);let C;if("live"!==W.apiClient.type)throw"mock"===W.apiClient.type?Error("Not implemented yet!"):Error("Invalid or undefined config.apiClient.type");C=L;const A=C},2360:(e,t,n)=>{n.d(t,{Q:()=>s});class s{static register(e,t){this._topics.has(e)||this._topics.set(e,[]);const n=this._topics.get(e);if(!n)throw new Error("Error in register method of sync manager");const s=this.findRightPositionOfInsertedCallback(n,t.getPriority());n.splice(s,0,t)}static findRightPositionOfInsertedCallback(e,t){let n=0;for(let s=0;s<e.length;s++){if(e[s].getPriority()>t)break;n=s+1}return n}static dispatchEvent(e){const t=this._topics.get(e.eventName);if(t)for(let n=0;n<t.length;n++)t[n].execute(e)}static getNrOfSubscribersOnEvent(e){var t;return this._topics.has(e)?null===(t=this._topics.get(e))||void 0===t?void 0:t.length:0}}s._topics=new Map},3670:(e,t,n)=>{n.d(t,{M:()=>s});class s{constructor(e){this.eventName=s.getEventName(),this._userId="",this._userId=e,this.dateTimeOccurred=new Date}getUserId(){return this._userId}static getEventName(){return"LoggedInEvent"}}},836:(e,t,n)=>{n.d(t,{c:()=>s});class s{constructor(){this.eventName=s.getEventName(),this.dateTimeOccurred=new Date}static getEventName(){return"LoggedOutEvent"}}},2940:(e,t,n)=>{n.d(t,{Z:()=>d});var s=n(1459),r=function(e,t,n,s){function r(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,i){function a(e){try{c(s.next(e))}catch(t){i(t)}}function o(e){try{c(s["throw"](e))}catch(t){i(t)}}function c(e){e.done?n(e.value):r(e.value).then(a,o)}c((s=s.apply(e,t||[])).next())}))};function i(){function e(){return r(this,void 0,void 0,(function*(){yield s.Z.authService.logoutUser()}))}function t(e){return r(this,void 0,void 0,(function*(){yield s.Z.authService.loginUserWithEmailAndPassword(e)}))}function n(){return s.Z.authService.currentUser()}return{logout:e,loginWithEmail:t,fetchCurrenUser:n}}var a=n(3673),o=n(1959);const c=(0,o.qj)({authenticated:!1}),u=c;function g(){return{isAuthenticated:(0,a.Fl)((()=>u.authenticated))}}function h(){function e(e){u.authenticated=e}return{commitSetUserAuthenticated:e}}const l=()=>Object.assign(Object.assign(Object.assign({},i()),g()),h()),d=l},4078:(e,t,n)=>{n.d(t,{k:()=>s});class s{constructor(e){this.eventName=s.getEventName(),this._passengers=e,this.dateTimeOccurred=new Date}getLeftWingPassengers(){return this._passengers}static getEventName(){return"LeftPassengersChangedEvent"}}},2943:(e,t,n)=>{n.d(t,{Y:()=>s});class s{constructor(e){this.eventName=s.getEventName(),this._passengers=e,this.dateTimeOccurred=new Date}getRightWingPassengers(){return this._passengers}static getEventName(){return"RightPassengersChangedEvent"}}},6304:(e,t,n)=>{n.d(t,{Z:()=>d});var s=n(1459),r=function(e,t,n,s){function r(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,i){function a(e){try{c(s.next(e))}catch(t){i(t)}}function o(e){try{c(s["throw"](e))}catch(t){i(t)}}function c(e){e.done?n(e.value):r(e.value).then(a,o)}c((s=s.apply(e,t||[])).next())}))};function i(){function e(e,t,n){return r(this,void 0,void 0,(function*(){yield s.Z.wingService.setPassengers(e,t,n)}))}return{updatePassengers:e}}var a=n(3673),o=n(1959);const c=(0,o.qj)({maxLeftWingPassengers:1,maxRightWingPassengers:1,activeRightWingPassengers:1,activeLeftWingPassengers:1,sthChanged:!1}),u=c;function g(){const e=(0,a.Fl)((()=>u.activeRightWingPassengers/u.maxRightWingPassengers-u.activeLeftWingPassengers/u.maxLeftWingPassengers)),t=(0,a.Fl)((()=>(u.activeLeftWingPassengers+u.activeRightWingPassengers)/(u.maxLeftWingPassengers+u.maxRightWingPassengers)));return{getActiveLeftWingPassengers:(0,a.Fl)((()=>u.activeLeftWingPassengers)),getActiveRightWingPassengers:(0,a.Fl)((()=>u.activeRightWingPassengers)),getMaxLeftWingPassengers:(0,a.Fl)((()=>u.maxLeftWingPassengers)),getMaxRightWingPassengers:(0,a.Fl)((()=>u.maxRightWingPassengers)),getDeflection:e,getSthChanged:(0,a.Fl)((()=>u.sthChanged)),getDropFactor:t}}function h(){function e(e){u.activeLeftWingPassengers=e}function t(e){u.activeRightWingPassengers=e}function n(e){u.maxLeftWingPassengers=e}function s(e){u.maxRightWingPassengers=e}function r(e){u.sthChanged=e}return{commitSetActiveLeftWingPassengers:e,commitSetActiveRightWingPassengers:t,commitSetMaxLeftWingPassengers:n,commitSetMaxRightWingPassengers:s,commitSetSthChanged:r}}const l=()=>Object.assign(Object.assign(Object.assign({},i()),g()),h()),d=l}},t={};function n(s){var r=t[s];if(void 0!==r)return r.exports;var i=t[s]={exports:{}};return e[s].call(i.exports,i,i.exports,n),i.exports}n.m=e,(()=>{var e=[];n.O=(t,s,r,i)=>{if(!s){var a=1/0;for(u=0;u<e.length;u++){for(var[s,r,i]=e[u],o=!0,c=0;c<s.length;c++)(!1&i||a>=i)&&Object.keys(n.O).every((e=>n.O[e](s[c])))?s.splice(c--,1):(o=!1,i<a&&(a=i));o&&(e.splice(u--,1),t=r())}return t}i=i||0;for(var u=e.length;u>0&&e[u-1][2]>i;u--)e[u]=e[u-1];e[u]=[s,r,i]}})(),(()=>{n.n=e=>{var t=e&&e.__esModule?()=>e["default"]:()=>e;return n.d(t,{a:t}),t}})(),(()=>{n.d=(e,t)=>{for(var s in t)n.o(t,s)&&!n.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}})(),(()=>{n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,s)=>(n.f[s](e,t),t)),[]))})(),(()=>{n.u=e=>"js/"+e+"."+{87:"c00f4ddf",122:"43822805",246:"437ee8a5",313:"c5591503",363:"090a7548",416:"fadaf5c0",434:"ff25de04",513:"eebf5857",856:"8de7ce90",865:"82a1f230",896:"66ed830c",989:"a186ea89"}[e]+".js"})(),(()=>{n.miniCssF=e=>"css/"+(736===e?"vendor":e)+"."+{87:"f130831e",122:"55fb2ed8",246:"8df92aaf",416:"8df92aaf",736:"5b1e30e0"}[e]+".css"})(),(()=>{n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()})(),(()=>{n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t)})(),(()=>{var e={},t="plane-crash:";n.l=(s,r,i,a)=>{if(e[s])e[s].push(r);else{var o,c;if(void 0!==i)for(var u=document.getElementsByTagName("script"),g=0;g<u.length;g++){var h=u[g];if(h.getAttribute("src")==s||h.getAttribute("data-webpack")==t+i){o=h;break}}o||(c=!0,o=document.createElement("script"),o.charset="utf-8",o.timeout=120,n.nc&&o.setAttribute("nonce",n.nc),o.setAttribute("data-webpack",t+i),o.src=s),e[s]=[r];var l=(t,n)=>{o.onerror=o.onload=null,clearTimeout(d);var r=e[s];if(delete e[s],o.parentNode&&o.parentNode.removeChild(o),r&&r.forEach((e=>e(n))),t)return t(n)},d=setTimeout(l.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=l.bind(null,o.onerror),o.onload=l.bind(null,o.onload),c&&document.head.appendChild(o)}}})(),(()=>{n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}})(),(()=>{n.p=""})(),(()=>{var e=(e,t,n,s)=>{var r=document.createElement("link");r.rel="stylesheet",r.type="text/css";var i=i=>{if(r.onerror=r.onload=null,"load"===i.type)n();else{var a=i&&("load"===i.type?"missing":i.type),o=i&&i.target&&i.target.href||t,c=new Error("Loading CSS chunk "+e+" failed.\n("+o+")");c.code="CSS_CHUNK_LOAD_FAILED",c.type=a,c.request=o,r.parentNode.removeChild(r),s(c)}};return r.onerror=r.onload=i,r.href=t,document.head.appendChild(r),r},t=(e,t)=>{for(var n=document.getElementsByTagName("link"),s=0;s<n.length;s++){var r=n[s],i=r.getAttribute("data-href")||r.getAttribute("href");if("stylesheet"===r.rel&&(i===e||i===t))return r}var a=document.getElementsByTagName("style");for(s=0;s<a.length;s++){r=a[s],i=r.getAttribute("data-href");if(i===e||i===t)return r}},s=s=>new Promise(((r,i)=>{var a=n.miniCssF(s),o=n.p+a;if(t(a,o))return r();e(s,o,r,i)})),r={143:0};n.f.miniCss=(e,t)=>{var n={87:1,122:1,246:1,416:1};r[e]?t.push(r[e]):0!==r[e]&&n[e]&&t.push(r[e]=s(e).then((()=>{r[e]=0}),(t=>{throw delete r[e],t})))}})(),(()=>{var e={143:0};n.f.j=(t,s)=>{var r=n.o(e,t)?e[t]:void 0;if(0!==r)if(r)s.push(r[2]);else{var i=new Promise(((n,s)=>r=e[t]=[n,s]));s.push(r[2]=i);var a=n.p+n.u(t),o=new Error,c=s=>{if(n.o(e,t)&&(r=e[t],0!==r&&(e[t]=void 0),r)){var i=s&&("load"===s.type?"missing":s.type),a=s&&s.target&&s.target.src;o.message="Loading chunk "+t+" failed.\n("+i+": "+a+")",o.name="ChunkLoadError",o.type=i,o.request=a,r[1](o)}};n.l(a,c,"chunk-"+t,t)}},n.O.j=t=>0===e[t];var t=(t,s)=>{var r,i,[a,o,c]=s,u=0;for(r in o)n.o(o,r)&&(n.m[r]=o[r]);if(c)var g=c(n);for(t&&t(s);u<a.length;u++)i=a[u],n.o(e,i)&&e[i]&&e[i][0](),e[a[u]]=0;return n.O(g)},s=self["webpackChunkplane_crash"]=self["webpackChunkplane_crash"]||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))})();var s=n.O(void 0,[736],(()=>n(1823)));s=n.O(s)})();